<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta id="meta-description" name="description" content="">
    <meta id="meta-keywords" name="keywords" content="">
    <meta name="author" content="">
    <meta name="robots" content="index, follow">
    <link id="meta-canonical" rel="canonical" href="">
    <link id="favicon" rel="icon" type="image/png" href="">
    <meta id="og-title" property="og:title" content="">
    <meta id="og-description" property="og:description" content="">
    <meta id="og-image" property="og:image" content="">
    <meta id="og-url" property="og:url" content="">
    <meta property="og:type" content="profile">
    <meta name="twitter:card" content="summary_large_image">
    <title>Loading...</title>
    <style>
        :root{--primary:#C19A6B;--dark:#5C4033;--cream:#FDF8F4;--bg:#FAFAFA;--card:#FFF;--text:#1F2937;--muted:#4B5563;--header:70px}*{margin:0;padding:0;box-sizing:border-box}html{scroll-behavior:smooth;scroll-padding-top:var(--header)}body{font-family:'Inter',-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;background:var(--bg);color:var(--text);line-height:1.7;font-size:16px;min-height:100vh}.loading{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;gap:20px}.spinner{width:50px;height:50px;border:4px solid var(--cream);border-top-color:var(--primary);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.error{text-align:center;padding:40px;color:#dc2626}header{position:sticky;top:0;z-index:1000;background:rgba(255,255,255,.95);backdrop-filter:blur(10px);box-shadow:0 2px 10px rgba(0,0,0,.05);height:var(--header);display:flex;align-items:center;border-bottom:1px solid #eee}.nav-container{width:100%;max-width:1000px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between;align-items:center}.nav-logo{font-weight:700;font-size:1.2rem;color:var(--dark);text-decoration:none;display:flex;align-items:center;gap:10px}.nav-logo img{width:28px;height:28px;object-fit:contain}.menu-toggle{display:none;background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--text)}.nav-links{list-style:none;display:flex;gap:25px}.nav-links a{text-decoration:none;color:var(--muted);font-weight:500;font-size:.95rem;transition:color .3s}.nav-links a:hover{color:var(--primary)}@media(max-width:768px){.menu-toggle{display:block}.nav-links{position:absolute;top:var(--header);left:0;width:100%;background:#fff;flex-direction:column;gap:0;border-bottom:1px solid #eee;box-shadow:0 4px 6px rgba(0,0,0,.05);max-height:0;overflow:hidden;transition:max-height .3s}.nav-links.active{max-height:400px}.nav-links li{width:100%}.nav-links a{display:block;padding:15px 20px;border-bottom:1px solid #f9f9f9}.nav-links a:hover{background:var(--cream)}}.container{max-width:800px;margin:0 auto;padding:0 20px}section{margin-bottom:60px;padding-top:20px}h1,h2,h3{color:var(--text);font-weight:700;margin-bottom:1rem;line-height:1.3}h1{font-size:2rem}h2{font-size:1.5rem;color:var(--dark);border-bottom:2px solid var(--primary);display:inline-block;padding-bottom:5px;margin-bottom:25px}h3{font-size:1.25rem;margin-top:15px}p{margin-bottom:1rem;color:var(--muted)}.hero{text-align:center;padding:60px 20px 40px;background:linear-gradient(to bottom,#fff,var(--cream));border-bottom:1px solid #e5e7eb}.profile-img{width:160px;height:160px;object-fit:cover;border-radius:50%;border:4px solid #fff;box-shadow:0 10px 25px rgba(193,154,107,.2);margin-bottom:20px}.tagline{color:var(--primary);font-weight:600;text-transform:uppercase;letter-spacing:1px;font-size:.9rem;margin-bottom:10px;display:block}.greeting{font-size:1.5rem;color:var(--dark);margin-bottom:10px;font-family:serif}.grid{display:grid;gap:20px;grid-template-columns:1fr}.card{background:var(--card);padding:25px;border-radius:12px;box-shadow:0 4px 6px -1px rgba(0,0,0,.05);border:1px solid #f3f4f6;transition:transform .2s,border-color .2s}.card:hover{transform:translateY(-3px);border-color:var(--primary)}.card.full{grid-column:1/-1}blockquote{background:var(--cream);border-left:5px solid var(--primary);margin:20px 0;padding:20px;font-style:italic;border-radius:4px}blockquote cite{display:block;margin-top:10px;font-size:.9rem;color:var(--dark);font-weight:600;font-style:normal}.contact-links{display:flex;flex-direction:column;gap:15px;margin-top:20px}.btn{display:inline-flex;align-items:center;justify-content:center;padding:12px 24px;border-radius:8px;font-weight:600;background:var(--card);border:1px solid #e5e7eb;color:var(--text);box-shadow:0 1px 2px rgba(0,0,0,.05);text-decoration:none;transition:all .3s}.btn:hover{background:var(--cream);border-color:var(--primary);color:var(--dark)}footer{text-align:center;padding:40px 20px;margin-top:40px;border-top:1px solid #e5e7eb;font-size:.9rem;color:var(--muted)}@media(min-width:768px){.grid{grid-template-columns:repeat(2,1fr)}h1{font-size:2.5rem}.contact-links{flex-direction:row;flex-wrap:wrap}}strong{color:var(--text)}em{color:var(--dark)}
    </style>
</head>
<body>
    <div id="app"><div class="loading"><div class="spinner"></div><p>Loading...</p></div></div>
    <script>
    (async()=>{
        const app=document.getElementById('app');
        let config={},nav=[],links=[],sections=[];
        
        const slug=t=>t.toLowerCase().replace(/[^\w\s-]/g,'').replace(/\s+/g,'-').trim();
        const md=t=>t.replace(/\*\*(.+?)\*\*/g,'<strong>$1</strong>').replace(/\*(.+?)\*/g,'<em>$1</em>');
        
        try{
            const res=await fetch('content.md');
            if(!res.ok)throw new Error('Cannot load content.md');
            const text=await res.text();
            const blocks=text.split('\n---\n');
            
            // Parse config (first block)
            blocks[0].split('\n').forEach(line=>{
                const m=line.match(/^(\w+):\s*(.+)$/);
                if(m)config[m[1]]=m[2].trim();
            });
            
            // Parse nav and links
            blocks.forEach(block=>{
                if(block.trim().startsWith('nav:')){
                    block.split('\n').slice(1).forEach(line=>{
                        const m=line.match(/^-\s*(.+?):\s*(.+)$/);
                        if(m)nav.push({label:m[1].trim(),href:m[2].trim()});
                    });
                }else if(block.trim().startsWith('links:')){
                    block.split('\n').slice(1).forEach(line=>{
                        const m=line.match(/^-\s*(.+?):\s*(.+)$/);
                        if(m)links.push({label:m[1].trim(),url:m[2].trim()});
                    });
                }else if(block.includes('# ')){
                    const lines=block.split('\n');
                    const titleLine=lines.find(l=>l.startsWith('# '));
                    if(titleLine){
                        const title=titleLine.replace('# ','');
                        const typeLine=lines.find(l=>l.startsWith('type:'));
                        const type=typeLine?typeLine.replace('type:','').trim():'text';
                        const content=lines.filter(l=>!l.startsWith('# ')&&!l.startsWith('type:')).join('\n').trim();
                        sections.push({title,type,content,id:slug(title)});
                    }
                }
            });
            
            // Update meta tags
            document.title=config.title||config.name;
            document.getElementById('meta-description').content=config.description||'';
            document.getElementById('meta-keywords').content=config.keywords||'';
            document.getElementById('meta-canonical').href=config.url||'';
            document.getElementById('favicon').href=config.favicon||'';
            document.getElementById('og-title').content=config.title||config.name;
            document.getElementById('og-description').content=config.description||'';
            document.getElementById('og-image').content=config.photo||'';
            document.getElementById('og-url').content=config.url||'';
            
            // Render functions
            const renderText=s=>{
                const p=s.content.split('\n\n').filter(x=>x.trim()).map(x=>`<p>${md(x)}</p>`).join('');
                return `<section id="${s.id}"><h2>${s.title}</h2>${p}</section>`;
            };
            
            const renderCard=s=>{
                const p=s.content.split('\n\n').filter(x=>x.trim()).map(x=>`<p>${md(x)}</p>`).join('');
                return `<section id="${s.id}"><h2>${s.title}</h2><div class="card">${p}</div></section>`;
            };
            
            const renderCards=s=>{
                const cards=s.content.split('## ').filter(x=>x.trim()).map(part=>{
                    const lines=part.split('\n');
                    const title=lines[0].trim();
                    const fullLine=lines.find(l=>l.startsWith('full:'));
                    const isFull=fullLine&&fullLine.includes('true');
                    const content=lines.slice(1).filter(l=>!l.startsWith('full:')).join('\n').trim();
                    const p=content.split('\n\n').filter(x=>x.trim()).map(x=>`<p>${md(x)}</p>`).join('');
                    return `<div class="card${isFull?' full':''}"><h3>${title}</h3>${p}</div>`;
                }).join('');
                return `<section id="${s.id}"><h2>${s.title}</h2><div class="grid">${cards}</div></section>`;
            };
            
            const renderQuotes=s=>{
                let html='',quote=[];
                s.content.split('\n').forEach(line=>{
                    if(line.startsWith('> ')){
                        const t=line.slice(2);
                        if(t.startsWith('—')||t.startsWith('-')){
                            html+=`<blockquote>${quote.map(q=>md(q)).join('<br>')}<cite>${t}</cite></blockquote>`;
                            quote=[];
                        }else quote.push(t);
                    }else if(line.trim())html+=`<p>${md(line)}</p>`;
                });
                return `<section id="${s.id}"><h2>${s.title}</h2>${html}</section>`;
            };
            
            const renderConnect=s=>{
                const p=s.content.split('\n\n').filter(x=>x.trim()).map(x=>`<p>${md(x)}</p>`).join('');
                const btns=links.map(l=>`<a href="${l.url}" class="btn" ${l.url.startsWith('mailto:')?'':'target="_blank" rel="noopener noreferrer"'}>${l.label}</a>`).join('');
                return `<section id="${s.id}"><h2>${s.title}</h2>${p}<div class="contact-links">${btns}</div></section>`;
            };
            
            const render=s=>{
                if(s.type==='card')return renderCard(s);
                if(s.type==='cards')return renderCards(s);
                if(s.type==='quotes')return renderQuotes(s);
                if(s.type==='connect')return renderConnect(s);
                return renderText(s);
            };
            
            // Build HTML
            const navHtml=nav.map(n=>`<li><a href="${n.href}">${n.label}</a></li>`).join('');
            const sectionsHtml=sections.map(render).join('');
            
            app.innerHTML=`
                <header>
                    <nav class="nav-container">
                        <a href="#" class="nav-logo">
                            <img src="${config.favicon}" alt="Logo">
                            <span>${config.name}</span>
                        </a>
                        <button class="menu-toggle" id="menuToggle">☰</button>
                        <ul class="nav-links" id="navLinks">${navHtml}</ul>
                    </nav>
                </header>
                <div class="hero">
                    <div class="container">
                        <img src="${config.photo}" alt="${config.name}" class="profile-img">
                        <span class="tagline">${config.tagline}</span>
                        <h1>${config.name}</h1>
                        <div class="greeting"><strong>${config.greeting}</strong></div>
                        <p>${md(config.intro)}</p>
                    </div>
                </div>
                <main class="container">${sectionsHtml}</main>
                <footer>
                    <div class="container">
                        <p>${md(config.footer)}</p>
                        <p style="margin-top:10px;font-size:.8rem">© ${new Date().getFullYear()} ${config.name}. All Rights Reserved.</p>
                    </div>
                </footer>`;
            
            // Mobile menu
            const toggle=document.getElementById('menuToggle');
            const navEl=document.getElementById('navLinks');
            toggle.onclick=()=>{const a=navEl.classList.toggle('active');toggle.textContent=a?'✕':'☰';};
            document.querySelectorAll('.nav-links a').forEach(a=>a.onclick=()=>{navEl.classList.remove('active');toggle.textContent='☰';});
            
        }catch(e){
            app.innerHTML=`<div class="error"><h2>⚠️ Error</h2><p>${e.message}</p><p>Make sure <code>content.md</code> exists in the same folder.</p></div>`;
        }
    })();
    </script>
</body>
</html>
